# test_menu.py
from aiogram.types import ReplyKeyboardMarkup
import pytest
from app.telegram_bot import menu  # սա փոխիր ըստ քո կառուցվածքի, եթե այլ է


@pytest.mark.parametrize(
    "markup, expected_texts",
    [
        (
            menu.main_menu,
            [
                ["🧠 Mood Assistant"],
                ["🎬 Ֆիլմեր և Սերիալներ", "🎵 Երգեր"],
                ["🎨 Նկար գեներացիա", "⭐️ Խոսիր ինձ հետ"],
            ],
        ),
        (
            menu.mood_menu,
            [
                ["😢 Տխուր եմ", "🥰 Սիրահարված եմ"],
                ["😤 Զայրացած եմ", "😐 Ուղղակի լավ եմ"],
                ["🤩 Ուրախ եմ", "😴 Հոգնած եմ"],
                ["🤯 Սթրեսային վիճակում եմ", "😎 Մոտիվացված եմ"],
                ["😔 Մենակ եմ", "💭 Խորհում եմ"],
                ["🔝 Վերադառնալ գլխավոր մենյու"],
            ],
        ),
        (
            menu.song_menu,
            [
                ["❤️ Տրամադրությամբ երգեր"],
                ["🎧 Ըստ ոճի", "📝 Ըստ նկարագրության"],
                ["🧑‍🎤 Արտիստի լավագույն երգերը"],
                ["🔀 Պատահական երգ"],
                ["🔝 Վերադառնալ գլխավոր մենյու"],
            ],
        ),
        (
            menu.genre_menu,
            [
                ["🎸 Ռոք", "🎹 Ջազ"],
                ["🎤 Ռեփ", "🎶 Փոփ"],
                ["💃 Լատինո", "🎻 Կլասիկ"],
                ["🏞 Ֆոլք", "🎼 Էլեկտրոնային"],
                ["🔥 Մետալ", "🎷 Ֆանկ"],
                ["🔙 Վերադառնալ Երգեր մենյու"],
                ["🔝 Վերադառնալ գլխավոր մենյու"],
            ],
        ),
        (
            menu.gpt_reply_markup,
            [["🔝 Վերադառնալ գլխավոր մենյու"], ["🧹 Մաքրել զրույցը"]],
        ),
        (
            menu.movie_menu,
            [
                ["🎭 Ժանրով առաջարկներ", "🔥 Լավագույն 10 ֆիլմ"],
                ["🎞 Ֆիլմի նկարագրություն", "🔍 Ասա ֆիլմի անունը"],
                ["🎲 Պատահական ֆիլմ"],
                ["🔙 Վերադառնալ Ֆիլմեր և Սերիալներ"],
                ["🔝 Վերադառնալ գլխավոր մենյու"],
            ],
        ),
        (
            menu.series_menu,
            [
                ["🎭 Սերիալ ըստ ժանրի", "🔥 Լավագույն 10 սերիալ"],
                ["📘 Սերիալի նկարագրություն", "🔍 Ասա սերիալի անունը"],
                ["🎲 Պատահական սերիալ"],
                ["🔙 Վերադառնալ Ֆիլմեր և Սերիալներ"],
                ["🔝 Վերադառնալ գլխավոր մենյու"],
            ],
        ),
        (
            menu.film_and_series_menu,
            [["🎥 Ֆիլմեր"], ["📺 Սերիալներ"], ["🔝 Վերադառնալ գլխավոր մենյու"]],
        ),
        (
            menu.movie_genre_menu,
            [
                ["🎬 Ակցիա", "😂 Կատակերգություն"],
                ["😱 Սարսափ", "🎭 Դրամա"],
                ["💘 Ռոմանտիկա", "🕵️ Միստիկա / Թրիլեր"],
                ["🚀 Գիտաֆանտաստիկա", "🧙 Ֆանտազիա"],
                ["🎥 Պատմական", "👨‍👩‍👧 Ընտանեկան"],
                ["🔙 Վերադառնալ Ֆիլմեր և Սերիալներ"],
                ["🔝 Վերադառնալ գլխավոր մենյու"],
            ],
        ),
        (
            menu.series_genre_menu,
            [
                ["🎭 Դրամա", "😂 Կատակերգություն"],
                ["🚀 Գիտաֆանտաստիկա", "🧙 Ֆանտազիա"],
                ["😱 Սարսափ", "🕵️ Թրիլեր"],
                ["💘 Ռոմանտիկա", "👨‍👩‍👧 Ընտանեկան"],
                ["🎬 Պատմական", "🧩 Միստիկա"],
                ["🔙 Վերադառնալ Ֆիլմեր և Սերիալներ"],
                ["🔝 Վերադառնալ գլխավոր մենյու"],
            ],
        ),
        (menu.img_menu, [["🔝 Վերադառնալ գլխավոր մենյու"]]),
    ],
)
def test_reply_markup_structure(markup: ReplyKeyboardMarkup, expected_texts):
    actual_texts = [[button.text for button in row] for row in markup.keyboard]
    assert actual_texts == expected_texts
